/* Author: Drew Chase */
export default class FileInput extends HTMLElement{constructor(t="",e="",i=[],n=!1){super(),this.option={name:this.getAttribute("name")||t,description:this.getAttribute("description")||e,extensions:this.getAttribute("extensions").split(",")||i,multiple:this.getAttribute("multiple")||n}}connectedCallback(){this.render()}handleFileInput(t){var e=t.target.files[0],i=new FileReader;i.readAsDataURL(e),i.onload=(t=>{var i=t.target.result;this.button.textContent=e.name,this.setAttribute("value",i)})}render(){this.setAttribute("title",this.option.description),this.innerHTML=`\n            <label for="${this.option.name}" class="fill">${this.option.name}</label>\n            <div class="button">File</div>\n        `,this.button=this.querySelector(".button"),this.addEventListener("click",()=>{let t=document.createElement("input");t.type="file",t.accept=this.option.extensions.join(","),t.multiple=this.option.multiple,t.onchange=this.handleFileInput.bind(this),t.click()})}}customElements.define("file-input",FileInput);